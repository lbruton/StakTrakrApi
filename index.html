<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StakTrakr API</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
      background: #0d1117;
      color: #e6edf3;
      line-height: 1.6;
      padding: 2rem 1rem 4rem;
    }
    .container { max-width: 760px; margin: 0 auto; }
    header { border-bottom: 1px solid #21262d; padding-bottom: 1.5rem; margin-bottom: 2rem; }
    header h1 { font-size: 1.6rem; font-weight: 600; color: #f0f6fc; }
    header p { color: #8b949e; margin-top: 0.4rem; font-size: 0.95rem; }
    header a { color: #58a6ff; text-decoration: none; }
    header a:hover { text-decoration: underline; }
    h2 { font-size: 1.05rem; font-weight: 600; color: #f0f6fc; margin: 2rem 0 0.75rem; }
    .badge {
      display: inline-flex; align-items: center; gap: 0.4rem;
      font-size: 0.8rem; padding: 0.2rem 0.6rem;
      border-radius: 999px; background: #161b22; border: 1px solid #21262d;
      color: #8b949e; margin-bottom: 1.25rem;
    }
    .badge .dot { width: 7px; height: 7px; border-radius: 50%; background: #3fb950; }
    table { width: 100%; border-collapse: collapse; font-size: 0.875rem; }
    th {
      text-align: left; padding: 0.5rem 0.75rem;
      background: #161b22; color: #8b949e;
      font-weight: 500; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.04em;
      border-bottom: 1px solid #21262d;
    }
    td { padding: 0.6rem 0.75rem; border-bottom: 1px solid #161b22; vertical-align: top; }
    tr:last-child td { border-bottom: none; }
    tr:hover td { background: #161b22; }
    code {
      font-family: "SF Mono", "Cascadia Code", ui-monospace, monospace;
      font-size: 0.82rem; background: #161b22;
      border: 1px solid #21262d; border-radius: 4px;
      padding: 0.1rem 0.35rem; color: #e6edf3;
    }
    .endpoint-path { color: #79c0ff; font-family: "SF Mono", ui-monospace, monospace; font-size: 0.82rem; }
    .desc { color: #8b949e; font-size: 0.82rem; margin-top: 0.15rem; }
    .example {
      background: #161b22; border: 1px solid #21262d; border-radius: 6px;
      padding: 1rem 1.25rem; margin-top: 0.5rem; overflow-x: auto;
    }
    .example pre { font-family: "SF Mono", ui-monospace, monospace; font-size: 0.8rem; color: #8b949e; }
    .example pre .key { color: #79c0ff; }
    .example pre .str { color: #a5d6ff; }
    .example pre .num { color: #f47067; }
    .tag { font-size: 0.72rem; padding: 0.1rem 0.45rem; border-radius: 3px; font-weight: 500; }
    .tag-green { background: #1a3a2a; color: #3fb950; border: 1px solid #2ea043; }
    .tag-blue  { background: #1a2a3a; color: #58a6ff; border: 1px solid #1f6feb; }
    .tag-amber { background: #3a2a0a; color: #d29922; border: 1px solid #9e6a03; }
    footer { margin-top: 3rem; padding-top: 1.5rem; border-top: 1px solid #21262d; color: #8b949e; font-size: 0.8rem; }
    footer a { color: #58a6ff; text-decoration: none; }
  </style>
</head>
<body>
<div class="container">

  <header>
    <h1>StakTrakr API</h1>
    <p>Public data feeds for precious metals prices &mdash; market, spot, and Goldback rates.<br>
    Used by <a href="https://staktrakr.com" target="_blank">staktrakr.com</a> &middot;
    Source: <a href="https://github.com/lbruton/StakTrakrApi" target="_blank">lbruton/StakTrakrApi</a></p>
  </header>

  <div class="badge"><span class="dot"></span> Free &amp; public &mdash; no auth required</div>

  <h2>Base URL</h2>
  <table>
    <tbody>
      <tr><td><code>https://api.staktrakr.com/data/</code></td><td class="desc">All endpoints are relative to this base</td></tr>
    </tbody>
  </table>

  <h2>Endpoints</h2>
  <table>
    <thead>
      <tr><th>Path</th><th>Description</th><th>Updated</th></tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="endpoint-path">api/manifest.json</span></td>
        <td>
          Market (retail) prices for all tracked coins<br>
          <span class="desc">Key fields: <code>coins[]</code>, <code>generated_at</code> (ISO 8601 UTC)</span>
        </td>
        <td><span class="tag tag-green">Every 15 min</span></td>
      </tr>
      <tr>
        <td><span class="endpoint-path">hourly/<em>YYYY/MM/DD/HH</em>.json</span></td>
        <td>
          Spot prices for a specific UTC hour<br>
          <span class="desc">Array of <code>{timestamp, gold, silver, platinum, palladium}</code> entries. Use current UTC hour; fall back to previous if not yet written.</span>
        </td>
        <td><span class="tag tag-green">Twice/hour</span></td>
      </tr>
      <tr>
        <td><span class="endpoint-path">api/goldback-spot.json</span></td>
        <td>
          Goldback G1 exchange rate<br>
          <span class="desc">Key fields: <code>g1_usd</code>, <code>scraped_at</code> (ISO 8601 UTC)</span>
        </td>
        <td><span class="tag tag-amber">Daily</span></td>
      </tr>
      <tr>
        <td><span class="endpoint-path">api/<em>{coin-slug}</em>/latest.json</span></td>
        <td>
          Latest retail price for a specific coin<br>
          <span class="desc">e.g. <code>api/ase/latest.json</code> for American Silver Eagle</span>
        </td>
        <td><span class="tag tag-green">Every 15 min</span></td>
      </tr>
      <tr>
        <td><span class="endpoint-path">spot-history-<em>YYYY</em>.json</span></td>
        <td>
          Yearly spot price history (seed file)<br>
          <span class="desc">One entry per day at noon UTC. For live data use the <code>hourly/</code> endpoint above.</span>
        </td>
        <td><span class="tag tag-blue">Daily (noon UTC)</span></td>
      </tr>
    </tbody>
  </table>

  <h2>Example: Current spot price</h2>
  <div class="example">
    <pre>
<span class="key">const</span> now = <span class="key">new</span> Date();
<span class="key">const</span> y  = now.getUTCFullYear();
<span class="key">const</span> mo = String(now.getUTCMonth() + <span class="num">1</span>).padStart(<span class="num">2</span>, <span class="str">"0"</span>);
<span class="key">const</span> d  = String(now.getUTCDate()).padStart(<span class="num">2</span>, <span class="str">"0"</span>);
<span class="key">const</span> hr = String(now.getUTCHours()).padStart(<span class="num">2</span>, <span class="str">"0"</span>);

<span class="key">const</span> url = <span class="str">`https://api.staktrakr.com/data/hourly/${y}/${mo}/${d}/${hr}.json`</span>;
<span class="key">const</span> entries = <span class="key">await</span> fetch(url).then(r => r.json());
<span class="key">const</span> latest  = entries.at(<span class="num">-1</span>);  <span class="key">// most recent entry in the hour</span>
console.log(latest);
<span class="key">// { timestamp: "2026-02-22 18:00:00", gold: 2910.50, silver: 32.14, ... }</span>
    </pre>
  </div>

  <h2>Example: Market prices</h2>
  <div class="example">
    <pre>
<span class="key">const</span> manifest = <span class="key">await</span> fetch(<span class="str">"https://api.staktrakr.com/data/api/manifest.json"</span>)
  .then(r => r.json());

console.log(manifest.generated_at);  <span class="key">// "2026-02-22T18:05:00Z"</span>
console.log(manifest.coins);         <span class="key">// [ { slug: "ase", name: "American Silver Eagle", ... }, ... ]</span>
    </pre>
  </div>

  <h2>Notes</h2>
  <table>
    <tbody>
      <tr><td>All timestamps</td><td class="desc">ISO 8601 UTC (<code>Z</code> suffix) or naive <code>"YYYY-MM-DD HH:MM:SS"</code> (treat as UTC)</td></tr>
      <tr><td>CORS</td><td class="desc">GitHub Pages serves permissive headers &mdash; suitable for browser <code>fetch()</code> calls</td></tr>
      <tr><td>Rate limiting</td><td class="desc">No enforced limit, but please cache responses &mdash; data only changes on the schedule above</td></tr>
      <tr><td>Availability</td><td class="desc">Served via GitHub Pages &mdash; no SLA, but historically very reliable</td></tr>
    </tbody>
  </table>

  <footer>
    Data provided by <a href="https://staktrakr.com">StakTrakr</a> &mdash;
    <a href="https://github.com/lbruton/StakTrakrApi">GitHub</a> &mdash;
    Prices sourced from MetalPriceAPI, dealer scrapes via Firecrawl, and Goldback.com
  </footer>

</div>
</body>
</html>
